(function(e){function t(t){for(var a,c,i=t[0],s=t[1],l=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"084f":function(e,t,n){"use strict";n("5b0a")},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Home",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},o=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("div",{staticClass:"bg"},[n("div",[n("div",{staticClass:"row"},[n("p",[e._v("移除PDF首尾间隔")]),n("el-input",{attrs:{clearable:""},on:{input:function(t){e.interval=e.interval.replace(/[^\d.]/g,"")}},model:{value:e.interval,callback:function(t){e.interval="string"===typeof t?t.trim():t},expression:"interval"}})],1),n("div",{staticClass:"row"},[n("p",[e._v("PDF转图片缩放比例")]),n("el-input",{attrs:{clearable:""},on:{input:function(t){e.scale=e.scale.replace(/[^\d.]/g,"")}},model:{value:e.scale,callback:function(t){e.scale="string"===typeof t?t.trim():t},expression:"scale"}})],1)]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("el-upload",{ref:"pdfUpload",staticClass:"upload-demo",attrs:{action:"","on-change":e.submitHandler,"http-request":function(){},accept:"application/pdf",drag:""}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传PDF文件")])])],1)]),n("div",{staticClass:"bg-img pdf-list"})])},i=[],s=(n("d3b7"),n("ac1f"),n("3ca3"),n("466d"),n("1276"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),l=n("9511"),u=n("0507"),d=n.n(u);l["GlobalWorkerOptions"].workerSrc=d.a;var f={name:"home",data:function(){return{canvasArr:[],loading:!1,scale:2,interval:0,renderImgArr:[]}},methods:{submitHandler:function(e){var t=this;this.loading=!0,console.log("--refs--",e.raw);var n=e||{},a=n.raw,r=new FileReader;r.readAsDataURL(a),r.onloadend=function(e){t.transformImage(e.target.result)}},transformImage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("--base64>>",e),a=l["getDocument"](e),r=document.querySelector(".pdf-list"),a.promise.then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var a,o,c,i,s,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=n.numPages,o=1;case 2:if(!(o<=a)){e.next=21;break}return c=document.createElement("canvas"),e.next=6,n.getPage(o);case 6:return i=e.sent,s=t.scale,l=i.getViewport({scale:s}),u=c.getContext("2d"),c.height=l.height,c.width=l.width,d={canvasContext:u,viewport:l},e.next=15,i.render(d);case 15:c.className="canvas",r.appendChild(c),t.canvasArr.push(c);case 18:o++,e.next=2;break;case 21:t.addLisenter(r),t.loading=!1;case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return n.stop()}}),n)})))()},dataUrlToBold:function(e){var t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),r=a.length,o=new Uint8Array(r);while(r--)o[r]=a.charCodeAt(r);return new Blob([o],{type:n})},addLisenter:function(e){var t=this;e.addEventListener("click",(function(e){console.log("---e--",e.target);var n=e.target.toDataURL("image/png"),a=t.dataUrlToBold(n),r=URL.createObjectURL(a),o=document.createElement("a");o.href=r,o.download="bt",o.click()}))}}},p=f,v=(n("084f"),n("2877")),g=Object(v["a"])(p,c,i,!1,null,"56113710",null),m=g.exports,b={name:"App",components:{Home:m}},h=b,w=(n("034f"),Object(v["a"])(h,r,o,!1,null,null,null)),y=w.exports,x=(n("0fb7"),n("450d"),n("f529")),_=n.n(x),O=n("bc3a"),j=n.n(O),P=j.a.create({timeout:3e4,baseURL:"/api"});P.interceptors.response.use((function(e){var t=e||{},n=t.config,a=t.data,r=a||{},o=r.success,c=r.error,i=r.message,s=r.data,l=n||{},u=l.showError,d=void 0!==u&&u;if(d&&!o){var f=c||i;_.a.error(f)}return o?Promise.resolve(s):Promise.reject(a)}));var k=P,C=(n("4160"),n("159b"),n("be4f"),n("896a")),R=n.n(C),U=(n("10cb"),n("f3ad")),A=n.n(U),L=(n("f225"),n("89a9")),E=n.n(L),S=(n("1951"),n("eedf")),D=n.n(S),$=[D.a,E.a,A.a,R.a];$.forEach((function(e){a["default"].use(e)})),a["default"].prototype.$loading=R.a.service,a["default"].prototype.$message=_.a;n("0fae");a["default"].config.productionTip=!1,a["default"].prototype.$http=k,new a["default"]({render:function(e){return e(y)}}).$mount("#app")},"5b0a":function(e,t,n){},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.a2ad7a59.js.map